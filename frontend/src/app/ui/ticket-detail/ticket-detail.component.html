<div class='ticket-detail-container'>
    <div *ngIf="loading" class='loading'>
        <tt-loading></tt-loading>
    </div>
    <div *ngIf="!loading" class='content row'>
        <div class='left col-md-8'>
            <tt-ticket-core
                [open]='ticketDetail.ticket.open'
                [number]='ticketDetail.ticket.number'
                [title]='ticketDetail.ticket.title' (titleChange)='onTitleChange($event)'
                [(description)]='ticketDetail.ticket.description' (descriptionChange)='onDescriptionChange($event)'
                [(storypoints)]='ticketDetail.ticket.storyPoints' (storypointsChange)='onStorypointsChange($event)'
                [(tagIds)]='ticketDetail.ticket.tagIds' (tagIdsChange)='onTagIdsChange($event)'
                [initialEstimatedTime]='ticketDetail.ticket.initialEstimatedTime'
                [currentEstimatedTime]='ticketDetail.ticket.currentEstimatedTime'
                [dueDate]='ticketDetail.ticket.dueDate'
                [creator]='ticketDetail.ticketCreator'
                [createTime]='ticketDetail.ticket.createTime'

                [allTags]='ticketDetail.allTicketTags'
                ></tt-ticket-core>

            <div class='comments-wrapper'>
                <tt-ticket-comments [comments]='comments'></tt-ticket-comments>
                <tt-ticket-comment-input
                    [allTicketTags]='ticketDetail.allTicketTags'
                    [ticket]='ticketDetail.ticket'
                    [allTimeCategories]='ticketDetail.allTimeCategories'
                    [allAssignmentTags]='ticketDetail.allAssignmentTags'
                    [assignedUsers]='ticketDetail.assignedUsers'
                ></tt-ticket-comment-input>
            </div>
        </div>
        <div class='right col-md-4'>
            <tt-ticket-sidebar [ticket]="ticketDetail.ticket"></tt-ticket-sidebar>
        </div>
    </div>
    <pre>{{ ticketDetail | json }}</pre>
</div>