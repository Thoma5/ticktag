<div class="component">
  <div class="nav-top-block">
    <div *ngIf="loadingProject" class="loading">
      <div class="spinner-wrapper">
        <tt-spinner
          [color]="'#fff'"
        >
        </tt-spinner>
      </div>
    </div>
    <a md-button *ngIf="!loadingProject" class="project-picker" href="javascript:void(0);" (click)="onProjectClick()">
      <div *ngIf="project != null" class="project-present">
        <div *ngIf="project.icon != null" class="project-icon">
          <img src="{{project.icon}}">
        </div>
        <div class="project-name">
          {{ project.name }}
        </div>
      </div>
      <div *ngIf="project == null" class="project-present">
        <div class="project-icon">
          <img src="/img/TickTag128px.png">
        </div>
        <div class="project-none">
          TickTag
          <i class="fa fa-sort-down"></i>
        </div>
      </div>
    </a>
  </div>
  <div class="project-selection-block" [class.expanded]="showingSelection" [class.collapsed]="!showingSelection">
    <a *ngFor="let project of otherProjects" md-button [routerLink]="['/project', project.id, 'tickets']" [queryParams]="{open: 'true'}" class='selection-button'>
      <div class="selection-item">
        <div *ngIf="project.icon != null" class="small-project-icon">
          <img src="{{project.icon}}">
        </div>
        <div class="small-project-name">
          {{ project.name }}
        </div>
      </div>
    </a>
  </div>
  <div *ngIf="project != null" class="project-links">
    <div>
      <a md-button [routerLink]="['/project', project.id, 'tickets']"  [queryParams]="{open: 'true'}">
        <i class='link-icon fa fa-ticket'></i>
        <span class='link-text'>Tickets</span>
      </a>
    </div>
    <div>
      <a md-button [routerLink]="['/project', project.id, 'burndown']">
        <i class='link-icon fa fa-area-chart'></i>
        <span class='link-text'>Burndown</span>
      </a>
    </div>
    <div>
      <a md-button [routerLink]="['/project', project.id, 'boards']">
        <i class='link-icon fa fa-th-large'></i>
        <span class='link-text'>Kanban</span>
      </a>
    </div>

    <div class="project-admin-block">
      <div>
        <a md-button [routerLink]="['/project', project.id, 'users']">
          <i class='link-icon fa fa-users'></i>
          <span class='link-text'>Project Users</span>
        </a>
      </div>
    <div>
        <a *ngIf="isAdmin || isProjectAdmin"  md-button [routerLink]="['/project', project.id, 'tickettags']">
          <i class='link-icon fa fa-tag'></i>
          <span class='link-text'>Ticket Tags</span>
        </a>
      </div>
      <div>
        <a *ngIf="isAdmin || isProjectAdmin"  md-button [routerLink]="['/project', project.id, 'assignmenttags']">
          <i class='link-icon fa fa-tag'></i>
          <span class='link-text'>Assignment Tags</span>
        </a>
      </div>
      <div>
        <a *ngIf="isAdmin || isProjectAdmin"  md-button [routerLink]="['/project', project.id, 'timecategories']">
          <i class='link-icon fa fa-tag'></i>
          <span class='link-text'>Time Categories</span>
        </a>
      </div>
    </div>
  </div>
  <div class="navadmin-block">
    <div>
      <a md-button *ngIf="isAdmin" [routerLink]="['/users']">
        <i class='link-icon fa fa-users'></i>
        <span *ngIf="project == null" class='link-text'>Users</span>
        <span *ngIf="project != null" class='link-text'>All Users</span>
      </a>
    </div>
    <div>
      <a md-button [routerLink]="['/projects']">
        <i class='link-icon fa fa-th-list'></i>
        <span *ngIf="project == null" class='link-text'>Projects</span>
        <span *ngIf="project != null" class='link-text'>Other Projects</span>
      </a>
    </div>
  </div>
  <div class="user-block">
  <div>
    <a md-button [routerLink]="['/profile']">
        <i class='link-icon fa fa-user'></i>
        <span class='link-text'>My Profile</span>
      </a>
  </div>
  </div>
</div>
